(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{354:function(e,t,s){var i={"./af":228,"./af.js":228,"./ar":229,"./ar-dz":230,"./ar-dz.js":230,"./ar-kw":231,"./ar-kw.js":231,"./ar-ly":232,"./ar-ly.js":232,"./ar-ma":233,"./ar-ma.js":233,"./ar-sa":234,"./ar-sa.js":234,"./ar-tn":235,"./ar-tn.js":235,"./ar.js":229,"./az":236,"./az.js":236,"./be":237,"./be.js":237,"./bg":238,"./bg.js":238,"./bm":239,"./bm.js":239,"./bn":240,"./bn.js":240,"./bo":241,"./bo.js":241,"./br":242,"./br.js":242,"./bs":243,"./bs.js":243,"./ca":244,"./ca.js":244,"./cs":245,"./cs.js":245,"./cv":246,"./cv.js":246,"./cy":247,"./cy.js":247,"./da":248,"./da.js":248,"./de":249,"./de-at":250,"./de-at.js":250,"./de-ch":251,"./de-ch.js":251,"./de.js":249,"./dv":252,"./dv.js":252,"./el":253,"./el.js":253,"./en-au":254,"./en-au.js":254,"./en-ca":255,"./en-ca.js":255,"./en-gb":256,"./en-gb.js":256,"./en-ie":257,"./en-ie.js":257,"./en-il":258,"./en-il.js":258,"./en-nz":259,"./en-nz.js":259,"./eo":260,"./eo.js":260,"./es":261,"./es-do":262,"./es-do.js":262,"./es-us":263,"./es-us.js":263,"./es.js":261,"./et":264,"./et.js":264,"./eu":265,"./eu.js":265,"./fa":266,"./fa.js":266,"./fi":267,"./fi.js":267,"./fo":268,"./fo.js":268,"./fr":269,"./fr-ca":270,"./fr-ca.js":270,"./fr-ch":271,"./fr-ch.js":271,"./fr.js":269,"./fy":272,"./fy.js":272,"./gd":273,"./gd.js":273,"./gl":274,"./gl.js":274,"./gom-latn":275,"./gom-latn.js":275,"./gu":276,"./gu.js":276,"./he":277,"./he.js":277,"./hi":278,"./hi.js":278,"./hr":279,"./hr.js":279,"./hu":280,"./hu.js":280,"./hy-am":281,"./hy-am.js":281,"./id":282,"./id.js":282,"./is":283,"./is.js":283,"./it":284,"./it.js":284,"./ja":285,"./ja.js":285,"./jv":286,"./jv.js":286,"./ka":287,"./ka.js":287,"./kk":288,"./kk.js":288,"./km":289,"./km.js":289,"./kn":290,"./kn.js":290,"./ko":291,"./ko.js":291,"./ky":292,"./ky.js":292,"./lb":293,"./lb.js":293,"./lo":294,"./lo.js":294,"./lt":295,"./lt.js":295,"./lv":296,"./lv.js":296,"./me":297,"./me.js":297,"./mi":298,"./mi.js":298,"./mk":299,"./mk.js":299,"./ml":300,"./ml.js":300,"./mn":301,"./mn.js":301,"./mr":302,"./mr.js":302,"./ms":303,"./ms-my":304,"./ms-my.js":304,"./ms.js":303,"./mt":305,"./mt.js":305,"./my":306,"./my.js":306,"./nb":307,"./nb.js":307,"./ne":308,"./ne.js":308,"./nl":309,"./nl-be":310,"./nl-be.js":310,"./nl.js":309,"./nn":311,"./nn.js":311,"./pa-in":312,"./pa-in.js":312,"./pl":313,"./pl.js":313,"./pt":314,"./pt-br":315,"./pt-br.js":315,"./pt.js":314,"./ro":316,"./ro.js":316,"./ru":317,"./ru.js":317,"./sd":318,"./sd.js":318,"./se":319,"./se.js":319,"./si":320,"./si.js":320,"./sk":321,"./sk.js":321,"./sl":322,"./sl.js":322,"./sq":323,"./sq.js":323,"./sr":324,"./sr-cyrl":325,"./sr-cyrl.js":325,"./sr.js":324,"./ss":326,"./ss.js":326,"./sv":327,"./sv.js":327,"./sw":328,"./sw.js":328,"./ta":329,"./ta.js":329,"./te":330,"./te.js":330,"./tet":331,"./tet.js":331,"./tg":332,"./tg.js":332,"./th":333,"./th.js":333,"./tl-ph":334,"./tl-ph.js":334,"./tlh":335,"./tlh.js":335,"./tr":336,"./tr.js":336,"./tzl":337,"./tzl.js":337,"./tzm":338,"./tzm-latn":339,"./tzm-latn.js":339,"./tzm.js":338,"./ug-cn":340,"./ug-cn.js":340,"./uk":341,"./uk.js":341,"./ur":342,"./ur.js":342,"./uz":343,"./uz-latn":344,"./uz-latn.js":344,"./uz.js":343,"./vi":345,"./vi.js":345,"./x-pseudo":346,"./x-pseudo.js":346,"./yo":347,"./yo.js":347,"./zh-cn":348,"./zh-cn.js":348,"./zh-hk":349,"./zh-hk.js":349,"./zh-tw":350,"./zh-tw.js":350};function a(e){var t=n(e);return s(t)}function n(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=354},397:function(e,t,s){var i=s(525);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s(2).default)("703503cc",i,!1,{})},524:function(e,t,s){"use strict";var i=s(397);s.n(i).a},525:function(e,t,s){(e.exports=s(1)()).push([e.i,"\ninput[data-v-b6efd87c] {\n  width: 5.33333rem;\n}\n._mr-36[data-v-b6efd87c] {\n  margin-right: 0.48rem;\n}\n._header[data-v-b6efd87c] {\n  height: 4rem;\n}\n._header .upload[data-v-b6efd87c] {\n    position: relative;\n    overflow: hidden;\n    width: 2.13333rem;\n    height: 2.13333rem;\n    border-radius: 1.06667rem;\n    background-color: #eaeaea;\n}\n._header .upload ._tip[data-v-b6efd87c] {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      text-align: center;\n      background-color: #0085ff;\n      color: #ffffff;\n      font-size: 0.26667rem;\n      height: 0.58667rem;\n      line-height: 0.58667rem;\n}\n.item[data-v-b6efd87c] {\n  height: 1.17333rem;\n  line-height: 1.17333rem;\n}\n.item input[data-v-b6efd87c] {\n    height: 1.06667rem;\n    line-height: 1.06667rem;\n}\n",""])},643:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page v-mine-baseinfo"},[s("div",{staticClass:"g-bg-white g-pd-lr-20"},[s("div",{staticClass:"_header g-flex-cc"},[s("div",{staticClass:"upload g-flex-cc",on:{click:e.handleUpload}},[s("img",{staticStyle:{width:"100%"},attrs:{src:e.avatars}}),e._v(" "),s("span",{staticClass:"_tip"},[e._v("上传照片")]),e._v(" "),s("input",{ref:"avatars",staticStyle:{display:"none"},attrs:{type:"file",id:"avatars_img",name:"avatars_img"},on:{change:e.handleChange}})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("姓名")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"姓名不能为空"},expression:'{\n          rules: ["required"],\n          req_msg: "姓名不能为空"\n        }'},{name:"model",rawName:"v-model",value:e.fullname,expression:"fullname"}],staticClass:"g-tr _mr-36",attrs:{id:"user-fullname",placeholder:"请填写"},domProps:{value:e.fullname},on:{input:function(t){t.target.composing||(e.fullname=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("性别")]),e._v(" "),s("div",{on:{click:e.handleSex}},[s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"性别不能为空"},expression:'{\n            rules: ["required"],\n            req_msg: "性别不能为空"\n          }'},{name:"model",rawName:"v-model",value:e.sex_cn,expression:"sex_cn"}],staticClass:"g-tr",attrs:{id:"user-sex_cn",disabled:"",placeholder:"请选择"},domProps:{value:e.sex_cn},on:{input:function(t){t.target.composing||(e.sex_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("参加工作时间")]),e._v(" "),s("div",{on:{click:e.handleJobTime}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.job_time_cn,expression:"job_time_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.job_time_cn},on:{input:function(t){t.target.composing||(e.job_time_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("出生年月")]),e._v(" "),s("div",{on:{click:e.handleBirth}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.birthdate_cn,expression:"birthdate_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.birthdate_cn},on:{input:function(t){t.target.composing||(e.birthdate_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("学历")]),e._v(" "),s("div",{on:{click:e.handleEdu}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.education_cn,expression:"education_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.education_cn},on:{input:function(t){t.target.composing||(e.education_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("所在城市")]),e._v(" "),s("div",{on:{click:e.handleAddr}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.district_cn,expression:"district_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.district_cn},on:{input:function(t){t.target.composing||(e.district_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("联系电话")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required","mobile"],req_msg:"联系电话不能为空"},expression:'{\n          rules: ["required", "mobile"],\n          req_msg: "联系电话不能为空"\n        }'},{name:"model",rawName:"v-model.number",value:e.telephone,expression:"telephone",modifiers:{number:!0}}],staticClass:"g-tr _mr-36",attrs:{id:"user-mobile",placeholder:"请填写"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26"},[s("span",[e._v("联系邮箱")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required","email"],req_msg:"联系邮箱不能为空"},expression:'{\n          rules: ["required", "email"],\n          req_msg: "联系邮箱不能为空"\n        }'},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"g-tr _mr-36",attrs:{id:"user-email",placeholder:"请填写"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"g-flex-cc"},[s("button",{staticClass:"g-btn-blue g-m-t-80",on:{click:e.handleSubmit}},[e._v("\n      完成\n    ")])])])};i._withStripped=!0;var a=s(226),n=s.n(a),r=s(66),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,a=!1,n=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw n}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=[{text:"初中",value:"66"},{text:"高中",value:"66"},{text:"中技",value:"67"},{text:"中专",value:"68"},{text:"大专",value:"69"},{text:"本科",value:"70"},{text:"硕士",value:"71"},{text:"博士",value:"72"}],l=[{text:"男",value:"1"},{text:"女",value:"2"}],d={components:{},data:function(){return{avatars:"",fullname:"",sex:"",sex_cn:"",job_time:"",job_time_cn:"",education:"",education_cn:"",telephone:"",email:"",birthdate:"",birthdate_cn:"",district:"",sdistrict:"",district_cn:""}},computed:{addrData:function(){return this.$store.getters["local/address"]}},created:function(){var e=this;this.$store.dispatch("local/address",{}),this.$Indicator.open(),this.$store.dispatch("mine/baseInfo/getBaseInfo",{}).then(function(t){e.$Indicator.close(),e.avatars=t.avatars,e.fullname=t.fullname,e.sex=t.sex,e.sex_cn=t.sex_cn,e.job_time=t.job_time,e.job_time_cn=n()(1e3*parseInt(t.job_time)).format("YYYY-MM-DD"),e.education=t.education,e.education_cn=t.education_cn,e.telephone=t.telephone,e.email=t.email,e.birthdate=t.birthdate,e.birthdate_cn=n()(1e3*parseInt(t.birthdate)).format("YYYY-MM-DD"),e.district=t.district,e.sdistrict=t.sdistrict,e.district_cn=t.district_cn}).catch(function(){e.$Indicator.close()})},methods:{handleSex:function(){var e=this;this.picker||(this.picker=this.$createPicker({title:"",data:[l],selectedIndex:[Object(r.e)(l,this.sex)],onSelect:function(t,s,i){var a=c(t,1)[0],n=c(i,1)[0];e.sex=a,e.sex_cn=n}})),this.picker.show()},handleJobTime:function(){var e=this;this.datePicker||(this.datePicker=this.$createDatePicker({title:"",min:new Date(1980,0,1),max:new Date(2030,11,30),value:this.job_time?new Date(this.job_time):new Date,onSelect:function(t,s,i){e.job_time=t.getTime()/1e3,e.job_time_cn=i.join("-")}})),this.datePicker.show()},handleBirth:function(){var e=this;this.birthPicker||(this.birthPicker=this.$createDatePicker({title:"",min:new Date(1990,0,1),max:new Date(2030,11,30),value:this.birthdate?new Date(this.birthdate):new Date,onSelect:function(t,s,i){e.birthdate=t.getTime()/1e3,e.birthdate_cn=i.join("-")}})),this.birthPicker.show()},handleEdu:function(){var e=this;this.eduPicker||(this.eduPicker=this.$createPicker({title:"",data:[o],selectedIndex:[Object(r.e)(o,this.education)],onSelect:function(t,s,i){var a=c(t,1)[0],n=c(i,1)[0];e.education=a,e.education_cn=n}})),this.eduPicker.show()},handleAddr:function(){var e=this;this.addrPicker||(this.addrPicker=this.$createCascadePicker({title:"",data:this.addrData,selectedIndex:Object(r.d)(this.addrData,[this.district||0,this.sdistrict||0]),onSelect:function(t,s,i){e.district_cn=i.join("/"),e.district=t[0],e.sdistrict=t[1]}})),this.addrPicker.show()},handleFilesAdded:function(e){},handleUpload:function(){this.$refs.avatars.click()},handleChange:function(e){var t=this;this.$Indicator.open(),this.$store.dispatch("mine/baseInfo/uploadAvatar",{fileElementId:"avatars_img"}).then(function(e){t.$Indicator.close(),t.avatars=e.avatars,$('input[type="file"]').change(function(e){t.handleChange(e)})}).catch(function(e){t.$Indicator.close(),$('input[type="file"]').change(function(e){t.handleChange(e)})})},handleSubmit:function(){var e=this;this.$fv.checkAll("user",function(t){0==t?(e.$Indicator.open(),e.$store.dispatch("mine/baseInfo/save",{fullname:e.fullname,sex:e.sex,sex_cn:e.sex_cn,birthdate:e.birthdate,job_time:e.job_time,district:e.district,sdistrict:e.sdistrict,district_cn:e.district_cn,education:e.education,education_cn:e.education_cn,telephone:e.telephone,email:e.email}).then(function(t){e.$Indicator.close(),e.$router.back()}).catch(function(t){e.$Indicator.close()})):e.$Toast({message:t[0].checker.message,duration:1500})})}}},u=(s(524),s(0)),m=Object(u.a)(d,i,[],!1,null,"b6efd87c",null);m.options.__file="views/mine/children/baseInfo.vue";t.default=m.exports}}]);
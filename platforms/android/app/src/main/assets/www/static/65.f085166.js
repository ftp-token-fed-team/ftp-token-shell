(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{446:function(e,t,i){var a=i(599);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(2).default)("e4822ebe",a,!1,{})},598:function(e,t,i){"use strict";var a=i(446);i.n(a).a},599:function(e,t,i){(e.exports=i(1)()).push([e.i,"\n.label[data-v-4a20b712] {\n  width: 2.66667rem;\n  text-align: left;\n}\n.item[data-v-4a20b712] {\n  height: 1.17333rem;\n  line-height: 1.17333rem;\n}\n.item input[data-v-4a20b712] {\n    height: 1.06667rem;\n    line-height: 1.06667rem;\n}\n",""])},608:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page g-bg-white"},[i("fpt-title",{attrs:{back:"",title:"票种设置"}}),e._v(" "),i("div",{staticClass:"g-pd-lr-20"},[i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",{staticClass:"label"},[e._v("审核")]),e._v(" "),i("div",{staticClass:"g-col-1 g-flex"},[i("div",{staticClass:"g-m-r-30",class:[0==e.type?"g-btn-blue-small":"g-btn-gray-small"],on:{click:function(t){e.handeChangeType(0)}}},[e._v("免费")]),e._v(" "),i("div",{class:[1==e.type?"g-btn-blue-small":"g-btn-gray-small"],on:{click:function(t){e.handeChangeType(1)}}},[e._v("收费")])])]),e._v(" "),1==e.type?i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",[e._v("票种价格")]),e._v(" "),i("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"价格不能为空不能为空"},expression:'{\n                rules: ["required"],\n                req_msg: "价格不能为空不能为空"\n            }'},{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"g-tr _mr-36",attrs:{id:"user-fullname",placeholder:"请输入价格"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]):e._e(),e._v(" "),i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",{staticClass:"label"},[e._v("审核")]),e._v(" "),i("div",{staticClass:"g-col-1 g-flex g-jc-sb"},[i("div",{staticClass:"g-c-999"},[e._v("凡报名此票种需经过我审核")]),e._v(" "),i("cube-switch",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),e._v(" "),i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",{staticClass:"label"},[e._v("可订购日期")]),e._v(" "),i("div",{staticClass:"g-col-1 g-tl"},[i("i",{staticClass:"iconfont icon-checked g-fs-40",class:[e.saleable?"g-c-blue":"g-c-ccc"],on:{click:function(t){e.saleable=!e.saleable}}}),e._v(" "),i("span",{staticClass:"g-c-999"},[e._v("凡报名此票种需经过我审核")])])]),e._v(" "),i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",{staticClass:"label"},[e._v("票券有效期")]),e._v(" "),i("div",{staticClass:"g-col-1 g-tl"},[i("i",{staticClass:"iconfont icon-checked g-fs-40",class:[e.timeable?"g-c-blue":"g-c-ccc"],on:{click:function(t){e.timeable=!e.timeable}}}),e._v(" "),i("span",{staticClass:"g-c-999"},[e._v("凡报名此票种需经过我审核")])])]),e._v(" "),i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",[e._v("活动开始时间")]),e._v(" "),i("div",{on:{click:e.handleStartTime}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.start_time_cn,expression:"start_time_cn"},{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"开始时间不能为空"},expression:'{\n                rules: ["required"],\n                req_msg: "开始时间不能为空"\n            }'}],staticClass:"g-tr",attrs:{disabled:"",id:"user-start_time",placeholder:"请选择"},domProps:{value:e.start_time_cn},on:{input:function(t){t.target.composing||(e.start_time_cn=t.target.value)}}}),e._v(" "),i("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),i("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[i("span",[e._v("活动结束时间")]),e._v(" "),i("div",{on:{click:e.handleEndTime}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.end_time_cn,expression:"end_time_cn"},{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"活动结束时间不能为空"},expression:'{\n                rules: ["required"],\n                req_msg: "活动结束时间不能为空"\n                }'}],staticClass:"g-tr",attrs:{disabled:"",id:"user-end_time",placeholder:"请选择"},domProps:{value:e.end_time_cn},on:{input:function(t){t.target.composing||(e.end_time_cn=t.target.value)}}}),e._v(" "),i("i",{staticClass:"iconfont icon-right g-c-999"})])])]),e._v(" "),i("div",{staticClass:"g-flex-cc"},[i("button",{staticClass:"g-btn-blue g-m-t-80",on:{click:e.handleSubmit}},[e._v("\n            保存\n        ")])])],1)};a._withStripped=!0;var s={components:{"fpt-title":i(8).a},data:function(){return{value:!0,start_time:"",start_time_cn:"",end_time:"",end_time_cn:"",saleable:!1,timeable:!1,type:0,price:""}},created:function(){this.$store.dispatch("local/address",{});var e=this.$store.getters["active/add/get"];this.value=e.value,this.start_time=e.start_time,this.start_time_cn=e.start_time_cn,this.end_time=e.end_time,this.end_time_cn=e.end_time_cn,this.saleable=e.saleable,this.timeable=e.timeable,this.type=e.type||0,this.price=e.price},methods:{handeChangeType:function(e){this.type=e},handleStartTime:function(){var e=this;this.startPicker||(this.startPicker=this.$createDatePicker({title:"",min:new Date(1980,0,1),max:new Date(2030,11,30),columnCount:6,value:this.job_time?new Date(this.job_time):new Date,onSelect:function(t,i,a){e.start_time=t.getTime()/1e3,e.start_time_cn=a.slice(0,3).join("-")+" "+a.slice(3,6).join(":")}})),this.startPicker.show()},handleEndTime:function(){var e=this;this.endPicker||(this.endPicker=this.$createDatePicker({title:"",min:new Date(1980,0,1,8,0,0),max:new Date(2030,11,30,20,59,59),columnCount:6,value:this.job_time?new Date(this.job_time):new Date,onSelect:function(t,i,a){e.end_time=t.getTime()/1e3,e.end_time_cn=a.slice(0,3).join("-")+" "+a.slice(3,6).join(":")}})),this.endPicker.show()},handleSubmit:function(){var e=this;this.$fv.checkAll("user",function(t){0==t?e.$store.dispatch("active/add/changeType",{value:e.value,start_time:e.start_time,start_time_cn:e.start_time_cn,end_time:e.end_time,end_time_cn:e.end_time_cn,saleable:e.saleable,timeable:e.timeable,type:e.type,price:e.price}).then(function(t){e.$Indicator.close(),e.$router.replace("/active/add/ticket-detail")}).catch(function(t){e.$Indicator.close()}):e.$Toast({message:t[0].checker.message,duration:1500})})}}},n=(i(598),i(0)),c=Object(n.a)(s,a,[],!1,null,"4a20b712",null);c.options.__file="views/active/children/ticket_edit.vue";t.default=c.exports}}]);
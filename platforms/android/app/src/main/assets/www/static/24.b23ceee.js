(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{391:function(e,t,s){var i={"./af":237,"./af.js":237,"./ar":238,"./ar-dz":239,"./ar-dz.js":239,"./ar-kw":240,"./ar-kw.js":240,"./ar-ly":241,"./ar-ly.js":241,"./ar-ma":242,"./ar-ma.js":242,"./ar-sa":243,"./ar-sa.js":243,"./ar-tn":244,"./ar-tn.js":244,"./ar.js":238,"./az":245,"./az.js":245,"./be":246,"./be.js":246,"./bg":247,"./bg.js":247,"./bm":248,"./bm.js":248,"./bn":249,"./bn.js":249,"./bo":250,"./bo.js":250,"./br":251,"./br.js":251,"./bs":252,"./bs.js":252,"./ca":253,"./ca.js":253,"./cs":254,"./cs.js":254,"./cv":255,"./cv.js":255,"./cy":256,"./cy.js":256,"./da":257,"./da.js":257,"./de":258,"./de-at":259,"./de-at.js":259,"./de-ch":260,"./de-ch.js":260,"./de.js":258,"./dv":261,"./dv.js":261,"./el":262,"./el.js":262,"./en-au":263,"./en-au.js":263,"./en-ca":264,"./en-ca.js":264,"./en-gb":265,"./en-gb.js":265,"./en-ie":266,"./en-ie.js":266,"./en-il":267,"./en-il.js":267,"./en-nz":268,"./en-nz.js":268,"./eo":269,"./eo.js":269,"./es":270,"./es-do":271,"./es-do.js":271,"./es-us":272,"./es-us.js":272,"./es.js":270,"./et":273,"./et.js":273,"./eu":274,"./eu.js":274,"./fa":275,"./fa.js":275,"./fi":276,"./fi.js":276,"./fo":277,"./fo.js":277,"./fr":278,"./fr-ca":279,"./fr-ca.js":279,"./fr-ch":280,"./fr-ch.js":280,"./fr.js":278,"./fy":281,"./fy.js":281,"./gd":282,"./gd.js":282,"./gl":283,"./gl.js":283,"./gom-latn":284,"./gom-latn.js":284,"./gu":285,"./gu.js":285,"./he":286,"./he.js":286,"./hi":287,"./hi.js":287,"./hr":288,"./hr.js":288,"./hu":289,"./hu.js":289,"./hy-am":290,"./hy-am.js":290,"./id":291,"./id.js":291,"./is":292,"./is.js":292,"./it":293,"./it.js":293,"./ja":294,"./ja.js":294,"./jv":295,"./jv.js":295,"./ka":296,"./ka.js":296,"./kk":297,"./kk.js":297,"./km":298,"./km.js":298,"./kn":299,"./kn.js":299,"./ko":300,"./ko.js":300,"./ky":301,"./ky.js":301,"./lb":302,"./lb.js":302,"./lo":303,"./lo.js":303,"./lt":304,"./lt.js":304,"./lv":305,"./lv.js":305,"./me":306,"./me.js":306,"./mi":307,"./mi.js":307,"./mk":308,"./mk.js":308,"./ml":309,"./ml.js":309,"./mn":310,"./mn.js":310,"./mr":311,"./mr.js":311,"./ms":312,"./ms-my":313,"./ms-my.js":313,"./ms.js":312,"./mt":314,"./mt.js":314,"./my":315,"./my.js":315,"./nb":316,"./nb.js":316,"./ne":317,"./ne.js":317,"./nl":318,"./nl-be":319,"./nl-be.js":319,"./nl.js":318,"./nn":320,"./nn.js":320,"./pa-in":321,"./pa-in.js":321,"./pl":322,"./pl.js":322,"./pt":323,"./pt-br":324,"./pt-br.js":324,"./pt.js":323,"./ro":325,"./ro.js":325,"./ru":326,"./ru.js":326,"./sd":327,"./sd.js":327,"./se":328,"./se.js":328,"./si":329,"./si.js":329,"./sk":330,"./sk.js":330,"./sl":331,"./sl.js":331,"./sq":332,"./sq.js":332,"./sr":333,"./sr-cyrl":334,"./sr-cyrl.js":334,"./sr.js":333,"./ss":335,"./ss.js":335,"./sv":336,"./sv.js":336,"./sw":337,"./sw.js":337,"./ta":338,"./ta.js":338,"./te":339,"./te.js":339,"./tet":340,"./tet.js":340,"./tg":341,"./tg.js":341,"./th":342,"./th.js":342,"./tl-ph":343,"./tl-ph.js":343,"./tlh":344,"./tlh.js":344,"./tr":345,"./tr.js":345,"./tzl":346,"./tzl.js":346,"./tzm":347,"./tzm-latn":348,"./tzm-latn.js":348,"./tzm.js":347,"./ug-cn":349,"./ug-cn.js":349,"./uk":350,"./uk.js":350,"./ur":351,"./ur.js":351,"./uz":352,"./uz-latn":353,"./uz-latn.js":353,"./uz.js":352,"./vi":354,"./vi.js":354,"./x-pseudo":355,"./x-pseudo.js":355,"./yo":356,"./yo.js":356,"./zh-cn":357,"./zh-cn.js":357,"./zh-hk":358,"./zh-hk.js":358,"./zh-tw":359,"./zh-tw.js":359};function a(e){var t=n(e);return s(t)}function n(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=391},392:function(e,t,s){var i=s(501);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s(2).default)("703503cc",i,!1,{})},500:function(e,t,s){"use strict";var i=s(392);s.n(i).a},501:function(e,t,s){(e.exports=s(1)()).push([e.i,"\ninput[data-v-b6efd87c] {\n  width: 5.33333rem;\n}\n._mr-36[data-v-b6efd87c] {\n  margin-right: 0.48rem;\n}\n._header[data-v-b6efd87c] {\n  height: 4rem;\n}\n._header .upload[data-v-b6efd87c] {\n    position: relative;\n    overflow: hidden;\n    width: 2.13333rem;\n    height: 2.13333rem;\n    border-radius: 1.06667rem;\n    background-color: #eaeaea;\n}\n._header .upload ._tip[data-v-b6efd87c] {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      text-align: center;\n      background-color: #0085ff;\n      color: #ffffff;\n      font-size: 0.26667rem;\n      height: 0.58667rem;\n      line-height: 0.58667rem;\n}\n.item[data-v-b6efd87c] {\n  height: 1.17333rem;\n  line-height: 1.17333rem;\n}\n.item input[data-v-b6efd87c] {\n    height: 1.06667rem;\n    line-height: 1.06667rem;\n}\n",""])},585:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page v-mine-baseinfo"},[s("div",{staticClass:"g-bg-white g-pd-lr-20"},[s("div",{staticClass:"_header g-flex-cc"},[s("div",{staticClass:"upload g-flex-cc",on:{click:e.handleUpload}},[s("img",{staticStyle:{width:"100%"},attrs:{src:e.avatars}}),e._v(" "),s("span",{staticClass:"_tip"},[e._v("上传照片")]),e._v(" "),s("input",{ref:"avatars",staticStyle:{display:"none"},attrs:{type:"file",id:"avatars_img",name:"avatars_img"},on:{change:e.handleChange}})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("姓名")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"姓名不能为空"},expression:'{\n          rules: ["required"],\n          req_msg: "姓名不能为空"\n        }'},{name:"model",rawName:"v-model",value:e.fullname,expression:"fullname"}],staticClass:"g-tr _mr-36",attrs:{id:"user-fullname",placeholder:"请填写"},domProps:{value:e.fullname},on:{input:function(t){t.target.composing||(e.fullname=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("性别")]),e._v(" "),s("div",{on:{click:e.handleSex}},[s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required"],req_msg:"性别不能为空"},expression:'{\n            rules: ["required"],\n            req_msg: "性别不能为空"\n          }'},{name:"model",rawName:"v-model",value:e.sex_cn,expression:"sex_cn"}],staticClass:"g-tr",attrs:{id:"user-sex_cn",disabled:"",placeholder:"请选择"},domProps:{value:e.sex_cn},on:{input:function(t){t.target.composing||(e.sex_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("参加工作时间")]),e._v(" "),s("div",{on:{click:e.handleJobTime}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.job_time_cn,expression:"job_time_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.job_time_cn},on:{input:function(t){t.target.composing||(e.job_time_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("出生年月")]),e._v(" "),s("div",{on:{click:e.handleBirth}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.birthdate_cn,expression:"birthdate_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.birthdate_cn},on:{input:function(t){t.target.composing||(e.birthdate_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("学历")]),e._v(" "),s("div",{on:{click:e.handleEdu}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.education_cn,expression:"education_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.education_cn},on:{input:function(t){t.target.composing||(e.education_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("所在城市")]),e._v(" "),s("div",{on:{click:e.handleAddr}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.district_cn,expression:"district_cn"}],staticClass:"g-tr",attrs:{disabled:"",placeholder:"请选择"},domProps:{value:e.district_cn},on:{input:function(t){t.target.composing||(e.district_cn=t.target.value)}}}),e._v(" "),s("i",{staticClass:"iconfont icon-right g-c-999"})])]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26 g-bb"},[s("span",[e._v("联系电话")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required","mobile"],req_msg:"联系电话不能为空"},expression:'{\n          rules: ["required", "mobile"],\n          req_msg: "联系电话不能为空"\n        }'},{name:"model",rawName:"v-model.number",value:e.telephone,expression:"telephone",modifiers:{number:!0}}],staticClass:"g-tr _mr-36",attrs:{id:"user-mobile",placeholder:"请填写"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),s("div",{staticClass:"item g-flex-ac g-jc-sb g-fs-26"},[s("span",[e._v("联系邮箱")]),e._v(" "),s("input",{directives:[{name:"fv-check",rawName:"v-fv-check",value:{rules:["required","email"],req_msg:"联系邮箱不能为空"},expression:'{\n          rules: ["required", "email"],\n          req_msg: "联系邮箱不能为空"\n        }'},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"g-tr _mr-36",attrs:{id:"user-email",placeholder:"请填写"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"g-flex-cc"},[s("button",{staticClass:"g-btn-blue g-m-t-80",on:{click:e.handleSubmit}},[e._v("\n      完成\n    ")])])])};i._withStripped=!0;var a=s(226),n=s.n(a),r=s(66),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,a=!1,n=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw n}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=[{text:"初中",value:"66"},{text:"高中",value:"66"},{text:"中技",value:"67"},{text:"中专",value:"68"},{text:"大专",value:"69"},{text:"本科",value:"70"},{text:"硕士",value:"71"},{text:"博士",value:"72"}],l=[{text:"男",value:"1"},{text:"女",value:"2"}],d={components:{},data:function(){return{avatars:"",fullname:"",sex:"",sex_cn:"",job_time:"",job_time_cn:"",education:"",education_cn:"",telephone:"",email:"",birthdate:"",birthdate_cn:"",district:"",sdistrict:"",district_cn:""}},computed:{addrData:function(){return this.$store.getters["local/address"]}},created:function(){var e=this;this.$store.dispatch("local/address",{}),this.$Indicator.open(),this.$store.dispatch("mine/baseInfo/getBaseInfo",{}).then(function(t){e.$Indicator.close(),e.avatars=t.avatars,e.fullname=t.fullname,e.sex=t.sex,e.sex_cn=t.sex_cn,e.job_time=t.job_time,e.job_time_cn=n()(1e3*parseInt(t.job_time)).format("YYYY-MM-DD"),e.education=t.education,e.education_cn=t.education_cn,e.telephone=t.telephone,e.email=t.email,e.birthdate=t.birthdate,e.birthdate_cn=n()(1e3*parseInt(t.birthdate)).format("YYYY-MM-DD"),e.district=t.district,e.sdistrict=t.sdistrict,e.district_cn=t.district_cn}).catch(function(){e.$Indicator.close()})},methods:{handleSex:function(){var e=this;this.picker||(this.picker=this.$createPicker({title:"",data:[l],selectedIndex:[Object(r.e)(l,this.sex)],onSelect:function(t,s,i){var a=c(t,1)[0],n=c(i,1)[0];e.sex=a,e.sex_cn=n}})),this.picker.show()},handleJobTime:function(){var e=this;this.datePicker||(this.datePicker=this.$createDatePicker({title:"",min:new Date(1980,0,1),max:new Date(2030,11,30),value:this.job_time?new Date(this.job_time):new Date,onSelect:function(t,s,i){e.job_time=t.getTime()/1e3,e.job_time_cn=i.join("-")}})),this.datePicker.show()},handleBirth:function(){var e=this;this.birthPicker||(this.birthPicker=this.$createDatePicker({title:"",min:new Date(1990,0,1),max:new Date(2030,11,30),value:this.birthdate?new Date(this.birthdate):new Date,onSelect:function(t,s,i){e.birthdate=t.getTime()/1e3,e.birthdate_cn=i.join("-")}})),this.birthPicker.show()},handleEdu:function(){var e=this;this.eduPicker||(this.eduPicker=this.$createPicker({title:"",data:[o],selectedIndex:[Object(r.e)(o,this.education)],onSelect:function(t,s,i){var a=c(t,1)[0],n=c(i,1)[0];e.education=a,e.education_cn=n}})),this.eduPicker.show()},handleAddr:function(){var e=this;this.addrPicker||(this.addrPicker=this.$createCascadePicker({title:"",data:this.addrData,selectedIndex:Object(r.d)(this.addrData,[this.district||0,this.sdistrict||0]),onSelect:function(t,s,i){e.district_cn=i.join("/"),e.district=t[0],e.sdistrict=t[1]}})),this.addrPicker.show()},handleFilesAdded:function(e){},handleUpload:function(){this.$refs.avatars.click()},handleChange:function(e){var t=this;this.$Indicator.open(),this.$store.dispatch("mine/baseInfo/uploadAvatar",{fileElementId:"avatars_img"}).then(function(e){t.$Indicator.close(),t.avatars=e.avatars,$('input[type="file"]').change(function(e){t.handleChange(e)})}).catch(function(e){t.$Indicator.close(),$('input[type="file"]').change(function(e){t.handleChange(e)})})},handleSubmit:function(){var e=this;this.$fv.checkAll("user",function(t){0==t?(e.$Indicator.open(),e.$store.dispatch("mine/baseInfo/save",{fullname:e.fullname,sex:e.sex,sex_cn:e.sex_cn,birthdate:e.birthdate,job_time:e.job_time,district:e.district,sdistrict:e.sdistrict,district_cn:e.district_cn,education:e.education,education_cn:e.education_cn,telephone:e.telephone,email:e.email}).then(function(t){e.$Indicator.close(),e.$router.back()}).catch(function(t){e.$Indicator.close()})):e.$Toast({message:t[0].checker.message,duration:1500})})}}},u=(s(500),s(0)),m=Object(u.a)(d,i,[],!1,null,"b6efd87c",null);m.options.__file="views/mine/children/baseInfo.vue";t.default=m.exports}}]);